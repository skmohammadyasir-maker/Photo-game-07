<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>BlackForce 007 â€” Puzzle (Ready-to-Use)</title>

  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  <style>
    :root {
      --bg: #07070b;
      --panel: linear-gradient(180deg, #0f1116, #0b0c10);
      --card: #0d1116;
      --accent: #7b8cff;
      --muted: #9aa0b4;
      --glass: rgba(255, 255, 255, 0.03);
      --highlight: #c7d2ff;
    }

    body {
      margin: 0;
      min-height: 100vh;
      background: radial-gradient(circle at 10% 10%, #0b0b12 0%, #050507 50%);
      color: var(--highlight);
      font-family: Inter;
      padding: 12px;
      display: flex;
      justify-content: center;
    }

    .game-board {
      display: grid;
      grid-template-columns: repeat(4, 1fr); /* UPDATED: 4 Columns */
      gap: 8px;
      padding: 10px;
      border-radius: 12px;
      aspect-ratio: 4 / 3; /* NEW */
      border: 1px solid rgba(255, 255, 255, 0.03);
    }

    .tile {
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.03), rgba(255, 255, 255, 0.01));
      border-radius: 10px;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }

    .tile img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* Score Coins UI Badge */
    #coins {
      font-weight: 900;
      font-size: 17px;
      color: gold;
    }
  </style>
</head>

<body>

  <div style="text-align:center; margin-bottom:10px;">
    <h1>BLACK FORCE 007 â€” PUZZLE</h1>
    <div style="font-size:15px; color:#aaa;">Match & Solve | Earn Coins</div>
    <div style="margin-top:10px; font-size:18px;">
      ðŸª™ Coins: <span id="coins">0</span>
    </div>
  </div>

  <div class="game-board" id="gameBoard"></div>

  <div style="margin-top:15px; display:flex; gap:8px;">
    <button id="startBtn">Start</button>
    <button id="shuffleBtn">Shuffle</button>
  </div>

  <script>
    const PIECES = [
      "https://res.cloudinary.com/dajuuabos/image/upload/v1763886424/1763877973843_4_liifha.png",
      "https://res.cloudinary.com/dajuuabos/image/upload/v1763886423/1763877973843_2_smlg1z.png",
      "https://res.cloudinary.com/dajuuabos/image/upload/v1763886423/1763877973843_1_nlqfl5.png",
      "https://res.cloudinary.com/dajuuabos/image/upload/v1763886422/1763877973843_5_hbf2jz.png",
      "https://res.cloudinary.com/dajuuabos/image/upload/v1763886421/1763877973843_7_k98t3g.png",
      "https://res.cloudinary.com/dajuuabos/image/upload/v1763886420/1763877973843_8_mwgupo.png",
      "https://res.cloudinary.com/dajuuabos/image/upload/v1763886419/1763877973843_3_ppsbcm.png",
      "https://res.cloudinary.com/dajuuabos/image/upload/v1763886418/1763877973843_6_wnwaxv.png",
      "https://res.cloudinary.com/dajuuabos/image/upload/v1763886418/1763877973843_9_exg2xg.png",
      "https://res.cloudinary.com/dajuuabos/image/upload/v1763886418/1763877973843_10_alx18m.png",
      "https://res.cloudinary.com/dajuuabos/image/upload/v1763886418/1763877973843_12_i5omfo.png",
      "https://res.cloudinary.com/dajuuabos/image/upload/v1763886417/1763877973843_11_ntxwe8.png"
    ];

    const gameBoard = document.getElementById("gameBoard");
    const coinsEl = document.getElementById("coins");

    let state = {
      order: [...Array(PIECES.length).keys()],
      current: [],
      moves: 0,
      coins: 0,
      selected: null,
      playing: false
    };

    function buildBoard() {
      gameBoard.innerHTML = "";
      for (let i = 0; i < PIECES.length; i++) {
        const cell = document.createElement("div");
        cell.className = "tile";
        cell.dataset.grid = i;

        const img = document.createElement("img");
        cell.appendChild(img);

        cell.addEventListener("click", () => onTileClick(i));
        gameBoard.appendChild(cell);
      }
    }

    function render() {
      const tiles = document.querySelectorAll(".tile");
      tiles.forEach((cell, pos) => {
        cell.querySelector("img").src = PIECES[state.current[pos]];
      });

      coinsEl.innerText = state.coins;
    }

    function startGame() {
      state.current = [...state.order].sort(() => Math.random() - 0.5);
      state.moves = 0;
      state.playing = true;
      render();
    }

    function onTileClick(i) {
      if (!state.playing) return;

      if (state.selected === null) {
        state.selected = i;
        return;
      }

      let a = state.selected;
      let b = i;
      [state.current[a], state.current[b]] = [state.current[b], state.current[a]];
      state.selected = null;

      state.moves++;

      if (isSolved()) {
        state.playing = false;
        state.coins += 50; // reward
        alert("ðŸŽ‰ Puzzle Solved! +50 Coins Earned");
      }

      render();
    }

    function isSolved() {
      return state.current.every((v, i) => v === i);
    }

    document.getElementById("startBtn").onclick = startGame;
    document.getElementById("shuffleBtn").onclick = startGame;

    buildBoard();
    state.current = [...state.order];
    render();
  </script>

</body>

</html>
